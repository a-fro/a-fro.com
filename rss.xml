<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0" xml:base="https://www.a-fro.com/">
  <channel>
    <title>a-fro.com</title>
    <link>https://www.a-fro.com/</link>
    <description/>
    <language>en</language>
    
    <item>
  <title>Retreating and Returning - Part 2</title>
  <link>https://www.a-fro.com/blog/personal/retreating-and-returning-part-2</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Retreating and Returning - Part 2&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;aaron&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Tue, 03/29/2022 - 09:34&lt;/span&gt;

            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2022-03-29T12:00:00Z" class="datetime"&gt;March 29, 2022&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;Here we arrive at the tricky part, because I want to share my own experience while also acknowledging that it’s not a blueprint for change: it’s simply how I transformed the structures of my own life. When the lockdown started, like many of us, I suddenly had a lot of extra time on my hands. So I started spending a lot more time walking barefoot in the grass, like I did as a child, and playing guitar by the campfire. I was rediscovering nature through my senses—gazing at the stars, listening to the birds at dawn, touching the bark of a tree, and getting dirt under my fingernails in the garden. As I did those things, I began to feel a strong call to cut back even further from my responsibilities, to have even more time free for wandering. I negotiated to cut back at work, and move from full-time employment to 3 days a week. This wasn’t an easy decision, because I knew it would force further changes. We would need to re-negotiate the financial aid at my son’s college, and we’d have to sell the house (since we’d no longer be able to service two mortgages and all the other debt we were carrying to support our lifestyle).&lt;/p&gt;

&lt;p&gt;Fast-forwarding two years to the present moment, I can see that the structures of my life have changed dramatically. I’m now debt free. I have four-day “weekends” every week. My relationship to my wife of 23 years is deepening and transforming dramatically, and we’re closer than we’ve ever been. None of these things have been easy, but by taking one step at a time, and keeping the goal in sight, it’s been manageable.&lt;/p&gt;

&lt;p&gt;One way I could summarize this goal—the compass I’ve been following—would be to simply look for aspects of my life where I see and feel scarcity, and instead seek to foster an experience of abundance. Looking back over the moments for which I hold the most regret in my life, I can easily see the powerful role that my experience of scarcity was playing in my psyche at those moments. How much of my life has been spent worrying that I had too little money, too little time, or too little love? Far more than I care to admit, even to myself.&lt;/p&gt;

&lt;p&gt;Moving from the prison of scarcity into the field of abundance is not a single moment. It’s a process of learning to see the world, and our relationship to it, in new ways. We support that effort through conscious practices, such as taking on fewer responsibilities, changing our relationship to money, and looking for daily moments to be grateful for, over and over. At the end of the day, we can lie in bed and celebrate the small wins from that day: the moment we remembered to take a deep breath just before yelling at a loved one, the way we noticed the light and shadows playing on the earth as the clouds swept across the sky, or the moment we were feeling insecure about our future and remembered how many times we were fearful and everything worked out. As we awaken each morning, we can take a moment to remember Pachamama, and spend a few minutes in silence next to a favorite tree or gazing walking in the garden.&lt;/p&gt;

&lt;p&gt;The habits of scarcity, for most of us, are supported by strong networks of neurons that have been firing together for many years. Day by day, however, we help our mind and body to build new pathways that become stronger as we continue. And as we experience that unfolding process, we see that the small, flickering flame of hope is growing. Eventually, I believe, we can begin to see that the fire we’ve been tending has grown bright enough to attract others, and to kindle their fires as well. That, for me, is a hopeful vision that I can get behind, and one that I also believe Pachamama is inviting us to embrace. &lt;em&gt;Do your work,&lt;/em&gt; she says. &lt;em&gt;It is time. &lt;/em&gt;And,&lt;em&gt; I’ve got you…you are not alone.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/personal" hreflang="en"&gt;Personal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Tue, 29 Mar 2022 09:34:43 +0000</pubDate>
    <dc:creator>aaron</dc:creator>
    <guid isPermaLink="false">23 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Retreating and Returning - Part 1</title>
  <link>https://www.a-fro.com/blog/personal/retreating-and-returning-part-1</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Retreating and Returning - Part 1&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;aaron&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Fri, 03/25/2022 - 09:55&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2022-03/chupani-ruins.jpg?h=e41ac20b&amp;itok=eFtjgHsB" width="1596" height="684" alt="Temple of the Priestesses at the Chupani Ruins" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2022-03-28T12:00:00Z" class="datetime"&gt;March 28, 2022&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;The exquisite stretch of silence penetrated every step as we climbed higher into the Andes. It was Day 6 of our retreat—a day of silence—and our ragtag group of roughly 25 westerners were climbing together toward the Chupani ruins, an ancient temple of priestesses that dates back to the Inca empire. My mind was quiet, offering a respite from the usual unending waves of thought. I’d had this experience previously while on an extended retreat, and though I didn’t expect it, I was grateful for its arrival.&lt;/p&gt;

&lt;p&gt;My attention was on my breath, and its slow, undulating flow. Yet in the spaciousness of a mind that was no longer generating a thoughtstream, I was also able to cultivate other intentions. One of those was to listen for the voice of &lt;a href="https://en.wikipedia.org/wiki/Pachamama"&gt;Pachamama&lt;/a&gt;—the Inca spirit of Mother Nature—for who we had been making offerings all week during the retreat. Though these types of offerings were a new experience for me, they were resonating deeply, even guiding and forming my nightly dreamscape.&lt;/p&gt;

&lt;p&gt;Connecting personally with the spirit of nature was not entirely foreign to me, however. As a child, I spent long hours laying the grass and staring at the sky, climbing trees, and playing in nearby caves and streams. Nature was experiential, not conceptual, and the plaintive call I heard from the wind as a young teenager still catches my breath: “&lt;em&gt;Listen, listen, listen to me, why are you blocking me out?&lt;/em&gt;”&lt;/p&gt;

&lt;p&gt;The retreat was inviting me to open my mind and heart back up to that voice I’d forgotten so long ago. And step by slow step, breath by quickening breath, I listened. Until I heard its response, flowing through me with a penetrating clarity: &lt;em&gt;"Do you work! It is time. I have nothing else to offer you right now. I’ve given you all that you need."&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Tears wet my cheeks as I walked, knowing with all my being that this message was not for me. It is for all of us. We have everything we need. &lt;span class="pullquote"&gt;We are inhabiting a garden of abundance yet believing we are on moored on an island of scarcity.&lt;/span&gt;  Maybe you have felt the penetrating clarity of this insight as well—perhaps in a moment of profound connection with nature. Years ago, while teaching meditation to college students, I remember how often they would describe a moment in their lives when thoughts disappeared and they could just rest in silence. Inevitably those moments arrived while experiencing some kind of communion with nature—the ripening of the clouds and darkening shadows as the sun sets over a valley, or sitting by a still pond in the moonlight and listening to the crickets and frogs. It’s as if our minds evolved to rest in nature’s resplendence, whose message to us is simply &lt;em&gt;“I’ve got you. All is well. You are not alone.”&lt;/em&gt;&lt;/p&gt;

&lt;figure role="group" class="caption caption-drupal-media align-center"&gt;
&lt;article class="media media--type-image media--view-mode-embedded"&gt;
  
      
  &lt;div class="field field--name-field-media-image field--type-image field--label-visually_hidden"&gt;
    &lt;div class="field__label visually-hidden"&gt;Image&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_800_x_500_max_/public/2022-03/chupani-valley-river_0.jpg?itok=hzQPwGnp" width="800" height="484" alt="The fast-flowing river guided our path as we hiked up the valley." loading="lazy" class="image-style-full-800-x-500-max-" /&gt;


&lt;/div&gt;
          &lt;/div&gt;

  &lt;/article&gt;

&lt;figcaption&gt;The sounds of the fast-flowing river filled the valley as we hiked in silence.&lt;/figcaption&gt;
&lt;/figure&gt;


&lt;p&gt;In &lt;em&gt;The More Beautiful World Our Hearts Know is Possible&lt;/em&gt;, Charles Eisenstein describes this shift as moving from the “Story of Separation” into the “Story of Interbeing.” Intuitively, I think many of us know the truth of this clarion call. We feel it with an increasing sense of urgency, and an ever-growing sorrow at our ongoing inability to inhabit what we know to be true. We are like the proverbial frogs, relaxing in a warm bath on the stove even though we know that the flames will eventually bring the water to a boil. What’s worse, even though we see that, many of us feel trapped, even enslaved, by the habits of our mind and our inability to create lasting change.&lt;/p&gt;

&lt;p&gt;There is an inevitable shift that begins to take place in the closing days of a retreat, when our minds and hearts begin to prepare for the transition back to the “real world.” In my own experience, no matter how powerful the transformation I feel on a retreat, the reality I was “retreating from” inevitably returns, and sometimes with a vengeance. “If you think you’re enlightened,” quipped Ram Das, “go spend a week with your family.” Looking back, I can now see that this is precisely why I received the message from Pachamama about the urgency of “doing my work.” While on retreat, we can lean on the structure of the format, the teachers who inspire, the team that is holding space, and often, the beauty of both the built and natural environments. When we return to our lives, we are inhabiting the structures of our existing experience, while also trying to integrate the teachings from our retreat. Too often, I think, we lose hope and our experience of life returns with little fanfare or transformation. In the face of humanity’s dire predicament, how could we not despair as we feel the possibility of change slipping away yet again?&lt;/p&gt;

&lt;p&gt;For the past few years I’ve been playing with a framework that is helping me immensely in my own journey to keep hope alive. I often think of it is a balance of structure, thought and practice, or in a more traditional sense, the interplay between body, mind and spirit. The three aspects of my experience are not only in a constant state of flux, but also seem to be in a dynamic exchange such that shifting one supports (or weakens) another.&lt;/p&gt;

&lt;p&gt;For example, if I return to my recent experience of being on retreat, I can see that I was receiving an incredible amount of support for all three of these aspects of my experience. In terms of structure (the body), I had a beautiful room set by a backdrop of the Andes (see image below). We had three incredible meals a day, prepared by a talented chef with high quality, organic and local ingredients.  I didn’t have to carry any money during my time, as all our needs were cared for. In terms of my thoughts (mind), I was learning wisdom from indigenous traditions that span back thousands of years. I was being given practical advice and insight into the nature of my thought patterns, and suggestions about how to shift those in new directions. I was meeting interesting people, and enjoying meals while having heart-centered conversations. And on the level of practice (spirit), I was participating in ancient rituals that celebrate Pachamama’s abundance, as well as traditional Buddhist forms and teachings that support shifting my consciousness from the head down into the heart.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--full-width paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_max/public/2022-03/raices-inkas.jpg?itok=0uXJioIz" width="1333" height="1000" alt="A circular retreat center nestled in a valley beneath a towering Peruvian mountain range." loading="lazy" class="image-style-full-max" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;Back in the “real world”, it’s easy to see that there are far fewer support structures in my life. I have bills to pay, a job to work, errands to run, resentments to harbor, outrage to stoke. These are the structures of modern day society, and most of us are no strangers to them. Yet we feel trapped, and therefore hopeless. Too often, we simply resign ourselves to either cynicism or nihilism, and sequester the more beautiful world our hearts know is possible to the same space where we locked away our childhood dreams and youthful optimism.&lt;/p&gt;

&lt;p&gt;If we imagine for a moment, however, that not only is real change possible, but that it’s actually the only thing the really makes sense: where does that leave us? I often try to remember the quote from Vaclav Havel, that &lt;span class="pullquote"&gt;“Hope is not the conviction that something will turn out well, but the certainty that something makes sense, regardless of how it turns out.” &lt;/span&gt;Feeling the penetrating truth of that statement forces me to ask myself: what do I believe in strongly enough that I’m willing to do it regardless of how it turns out?&lt;/p&gt;

&lt;p&gt;I’ve been sincerely pondering this question for the past few years, and over time it became abundantly clear that simply changing my thought patterns and practices (mind and spirit) were not going to lead to the outcomes I was seeking. I needed to change the outer structures of my life as well. Specifically, I began to see that I was caught in a vicious cycle of needing to work longer hours to make more money to service the debts I’d taken out in order to support the exact lifestyle I now desperately wanted to change. It's a familiar Catch-22.&lt;/p&gt;

&lt;p&gt;If we fast forward two years, however, many of the changes I wanted and needed to make are now in my rear-view mirror. My trip to Peru, and the incredible retreat I described above, was a gift I gave to myself as I completed the first part of transforming the structures of my life. In Part 2, I'll describe in greater detail how that process unfolded, the changes that it required, the gifts it's offered and why Pachamama's message on the hike felt so penetrating.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/personal" hreflang="en"&gt;Personal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Fri, 25 Mar 2022 09:55:21 +0000</pubDate>
    <dc:creator>aaron</dc:creator>
    <guid isPermaLink="false">22 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Letting Go of the One-track Mind</title>
  <link>https://www.a-fro.com/blog/personal/one-track-mind</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Letting Go of the One-track Mind&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Tue, 02/01/2022 - 11:04&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2022-01/IMG_2616.jpeg?h=465139b7&amp;itok=S7FBdPml" width="1596" height="684" alt="The early morning sun splays shadows on a snow-covered statue of the Buddha resting at the base of a tree." loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2022-02-01T12:00:00Z" class="datetime"&gt;February 1, 2022&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;A mentor once challenged me to simultaneously feel both gratitude and anger. Go ahead and try it. I’ve never been successful, and I’m not sure it’s possible. The inverse, of course, is also true. When “negative” emotions take root, it can be very hard to feel their opposite. It’s as if we have two basic energetic tracks in our mind/bodies: the “positive” emotions like happiness, joy, gratitude, love, etc., and the “negative” ruts of anger, frustration, hurt, fear, etc. From this dualistic paradigm, it’s easy to imagine an answer that is both simple and attainable: I’ll just cultivate the positive emotions and let go of the negative ones. I’ll train my emotions to be like one of those amusement park automobile rides, where the central guide rail allows even young children to drive a car and stay on the path.&lt;/p&gt;

&lt;p&gt;Last night, a friend was lamenting his inability to meditate. “I keep trying, but my mind is just too busy. I think my mind isn’t well-suited for it,” he suggested. For anyone who’s taught meditation, this is a familiar narrative. It arises from a basic misconception of the purpose of meditation, which most assume is to experience a quiet mind. We believe that somehow, by assuming the correct posture and closing our eyes, we can bend consciousness to our will. We imagine that, like the amusement ride, we can let go of the wheel of thoughts (and suffering) and simply ride silence like a middle rail and keep the mind on course.&lt;/p&gt;

&lt;p&gt;The real “work” of meditation is the art of letting go, and through that constant process of noticing our thoughts and returning to the present, a thick, Teflon coat gets applied to our tenaciously sticky mind. In a sense, it’s the exact opposite of the central guide rail; it’s a gentle slope on both sides of the lane that subtly coaxes us back onto the road. When we notice “thoughts,” (which include emotions), we are invited to &lt;span class="pullquote"&gt;let the thoughts go and return to the present moment with the energy of a feather landing on a pillow&lt;/span&gt;. This is not a cringe moment; a thousand thoughts during meditation offer a thousand opportunities to return. That is powerful work!&lt;/p&gt;

&lt;p&gt;Over time, the state of our mind will indeed change. It won’t be a linear process, and one of the greatest challenges is allowing it to continue to unfold without grasping. However, the real fruit of our practice has nothing to do with the time we spend meditating in silence. Rather, a moment arrives when we’re in the heat of an argument and we realize “this, too, is just a thought.” We relax our grip, little by little, and find it ever-slightly easier to let go of being right. Or, as another mentor used to put it, “we yell less loudly at our children.”&lt;/p&gt;

&lt;p&gt;Eventually, we will come to realize—on a very deep level—that there never was and never will be a guide rail. That path is an illusion. We don’t have two emotional tracks in our mind, the good and the bad, that allow us to choose one over the other. It is all one life—one experience—and &lt;span class="pullquote"&gt;the real gift is learning to live with hands that relax their grip more easily and a mind that lets go more often&lt;/span&gt;. As we do that, we begin to see how much the mind craves control, and falsely believes that a tight grip and a strong hold on thoughts are what keep us safe. Yet the exact opposite becomes our strength: rather than discovering an ocean of calm, we discover that the waves never were a problem, because we are the ocean itself.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/personal" hreflang="en"&gt;Personal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Tue, 01 Feb 2022 11:04:27 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">20 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Enter the Mystery</title>
  <link>https://www.a-fro.com/blog/personal/enter-the-mystery</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Enter the Mystery&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sat, 01/15/2022 - 14:29&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2022-01/moon.jpg?h=a10861b7&amp;itok=PnWA6Fve" width="1596" height="684" alt="Half-lit moon on a jet-black night" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2022-01-16T12:00:00Z" class="datetime"&gt;January 16, 2022&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;I work for &lt;a href="https://paulkingsnorth.substack.com/p/blanched-sun-blinded-man"&gt;the machine&lt;/a&gt; three days a week, making money to provide for my family and playing the game. It is soul-sucking work, not because it is inherently bad or wrong, but because every fiber of my being knows that I am called to something much more aligned with Life. Most of us are living lives of quiet desperation, trapped in the matrix despite seeing our plight. Knowing is not enough. &lt;span class="pullquote"&gt;The structures needed to support the new world still mostly exist in the minds and hearts of our future selves.&lt;/span&gt; And so we wake up each morning, pinching our nostrils like young children trying to lessen our disgust as we force the bites down. At the same time, we know that a moment will arrive when we will be ready for the change for which our hearts are longing. When will that time come? Could it be now? Am I ready?&lt;/p&gt;

&lt;p&gt;Roughly two months ago I noticed a slight shift happening in my mind and heart. I began to notice friends’ and acquaintances’ murmurings from afar—though faint and distant—that change is afoot. And so I began searching, at first online, but soon after in the quiet, secret garden within. I noticed, with great surprise and delight, the signs that dawn was approaching in that cold and dark place. Can you sense it, friend? As we approach the 2nd anniversary of this lockdown, the energy is finally shifting. We are reaching, or maybe have already reached, the breaking point.&lt;/p&gt;

&lt;p&gt;The spell is broken, and the wheels are coming off. It’s not yet clear that we have reached a wider tipping point, but it will come. For now, let it be enough to allow your heart to open to the mystery that is dawning. Each morning, I lie in bed against the bare skin of my beloved and I sink deeply into this space of trust. Our hearts attune and we abandon ourselves to presence. Within that space, where the mind goes silent and the heart reigns, we are finding deep wells of trust.&lt;/p&gt;

&lt;p&gt;Can you feel it? The goosebumps pepper my limbs as I open myself to the ever emergent, unfolding Now. We came here to meet this moment. And though we are still encountering our fear in painful ways, we can also discover how much bigger our love is than we ever imagined. &lt;span class="pullquote"&gt;You were not called to this life, and this moment, only to discover that your heart is inadequate.&lt;/span&gt; There is no scarcity here. There is only the fear—hardened by  years of society’s reinforcement—that you will not measure up.&lt;/p&gt;

&lt;p&gt;What gets uncovered as we sink into the heart of the mystery is that hope is an illusion. Hope exists within the dualistic mindset that believes in success and failure. The more beautiful world exists on another plane. You will not find it with your mind. You must sink into the heart space to experience it. Close your eyes for a few minutes, following your breath and listening with the ear of your heart. Allow your consciousness to sink, down and back, to the space I recently heard called “the seat of our ancestors.” In the field behind your heart you will find a spring, and the nourishment from that spring will awaken your soul and quench its thirst.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--full-width paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_max/public/2022-01/IMG_2349-2.jpg?itok=_BiOoxhb" width="1600" height="543" alt="Dawn breaks in a swath of purple, orange, and blue over a sandy beach" loading="lazy" class="image-style-full-max" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;Dawn is breaking, even as all hope appears to be lost. Our minds will not and cannot rise to meet this moment. Only our hearts, and the mystical presence of mystery, are big enough to witness what is truly unfolding.&lt;/p&gt;

&lt;p&gt;Stop.&lt;/p&gt;

&lt;p&gt;This moment.&lt;/p&gt;

&lt;p&gt;Enter the mystery.&lt;/p&gt;

&lt;p&gt;Let go.&lt;/p&gt;

&lt;p&gt;Allow.&lt;/p&gt;

&lt;p&gt;You were born for this. We all were. It’s ok to be afraid. But remember that you are not alone. And as you find your song, your courage will rise to carry you, and others will witness and join you. Together, we will find our way through the darkness and into the new light that is dawning. &lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/personal" hreflang="en"&gt;Personal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sat, 15 Jan 2022 14:29:21 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">19 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Love, Rekindled</title>
  <link>https://www.a-fro.com/blog/poetry/love-rekindled</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Love, Rekindled&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Mon, 12/27/2021 - 11:34&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2022-02/BEEAE5F5-F6D9-4E0A-9138-A06EAE37E6E8_1_105_c.jpeg?h=17ec628d&amp;itok=T3YvnMP3" width="1596" height="684" alt="Sunlight brightens the white limbs of a sycamore in the bright blue sky" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2021-12-27T12:00:00Z" class="datetime"&gt;December 27, 2021&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;Walking, hand in hand&lt;br /&gt;
On a glorious winter’s day&lt;br /&gt;
Sun warming our faces&lt;br /&gt;
Naked trees smiling down.&lt;/p&gt;

&lt;p&gt;Look, it’s the white stag!&lt;br /&gt;
She exclaims, staring in wonder&lt;br /&gt;
At the bare limbs of the majestic Sycamore.&lt;br /&gt;
Her radiant smile ignites my tinder heart.&lt;/p&gt;

&lt;p&gt;Behind us, a stretch of shadows&lt;br /&gt;
Blankets the forest floor&lt;br /&gt;
Cast by the low winter sun,&lt;br /&gt;
And two decades of parched longing.&lt;/p&gt;

&lt;p&gt;We are learning to drink again.&lt;br /&gt;
Moisture beads on our cracked lips.&lt;br /&gt;
We have a long way to go,&lt;br /&gt;
Even as we dance in this new arrival.&lt;/p&gt;

&lt;p&gt;Love, watering this dry, dusty soil.&lt;br /&gt;
Life, sprouting from ancient, cast away seeds.&lt;br /&gt;
Had we pulled the tether of our deep roots&lt;br /&gt;
We might have found our way back long ago.&lt;/p&gt;

&lt;p&gt;Instead, we wandered,&lt;br /&gt;
Alone, afraid, resentful and aching.&lt;br /&gt;
In the darkness, we found a silent strength&lt;br /&gt;
That could carry us through the night.&lt;/p&gt;

&lt;p&gt;By daylight, we learned to move,&lt;br /&gt;
Footfall by slow footfall,&lt;br /&gt;
Never realizing our vast arcs&lt;br /&gt;
Might lead us back together.&lt;/p&gt;

&lt;p&gt;Under this bright winter sun,&lt;br /&gt;
With the forest as our witness&lt;br /&gt;
We smile and gaze into pools,&lt;br /&gt;
Both long forgotten, and newly discovered.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/poetry" hreflang="en"&gt;Poetry&lt;/a&gt;&lt;/div&gt;
          &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/personal" hreflang="en"&gt;Personal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Mon, 27 Dec 2021 11:34:01 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">18 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Creating Reusable Dynamic Content Components</title>
  <link>https://www.a-fro.com/blog/drupal/creating-reusable-dynamic-content-components</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Creating Reusable Dynamic Content Components&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sun, 12/26/2021 - 18:36&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2021-12/reusable-components.jpg?itok=hSe8YAKH" width="1596" height="684" alt="A screenshot showing the "up next" reusable tagged content block " loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2018-11-06T12:00:00Z" class="datetime"&gt;November 6, 2018&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;This is part 2 in this series that explores &lt;a href="https://a-fro.com/blog/creating-paragraphs-entities-dynamic-content"&gt;how to use paragraph bundles to store configuration for dynamic content&lt;/a&gt;. The example I built in part 1 was a "read next" section, which could then be added as a component within the flow of the page. The strategy makes sense for component-based sites and landing pages, but probably less so for blogs or content heavy sites, since what we really want is for each article to include the read next section at the end of the page. For that, a view that displays as a block would perfectly suffice. In practice, however, it can be really useful to have a single custom block type, which I often call a "component block", that has an entity reference revisions field that we can leverage to create reusable components.&lt;/p&gt;

&lt;p&gt;This strategy offers a simple and unified interface for creating reusable components and adding them to sections of the page. Combined with Pattern Lab and the block visibility groups module, we get a pretty powerful tool for page building and theming.&lt;/p&gt;

&lt;p&gt;The image below captures the configuration screen for the "Up next" block you can find at the bottom of this page. As you see, it sets the heading, the primary tag, and the number of items to show. Astute readers might notice, however, that there is a small problem with this implementation. It makes sense if all the articles are about Drupal, but on sites where there are lots of topics, having a reusable component with a hard-coded taxonomy reference makes less sense. Rather, we'd like the related content component to show content that is actually related to the content of the article being read.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--original paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_max/public/2021-12/screen_shot_2018-11-06_at_8.57.24_am.png?itok=pQLBaw9-" width="462" height="505" alt="Configuration fields for the tagged content block, including the heading, tag and number of items to show." loading="lazy" class="image-style-full-max" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;For the purpose of this article, let's define the following two requirements: first, if the tagged content component has been added as a paragraph bundle to the page itself, then we will respect the tag supplied in its configuration. If, however, the component is being rendered in the up next block, then we will use the first term the article has been tagged with.&lt;/p&gt;

&lt;p&gt;To do that, we need three things: 1) we need our custom block to exist and to have a delta that we can use, 2) we need a preprocess hook to assign the theme variables, and 3) we need a twig template to render the component. If you're following along in your own project, then go ahead and create the component block now. I'll return momentarily to a discussion about custom block and the config system.&lt;/p&gt;

&lt;p&gt;Once the up next block exists, we can create the following preprocess function:&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;function component_helper_preprocess_block__upnextblock(&amp;$variables) {
  if ($current_node = \Drupal::request()-&gt;attributes-&gt;get('node')) {
    $variables['primary_tag'] = $current_node-&gt;field_tags-&gt;target_id;
    $variables['nid'] = $current_node-&gt;id();
    $paragraph = $variables['content']['field_component_reference'][0]['#paragraph'];
    $variables['limit'] = $paragraph-&gt;field_number_of_items-&gt;getValue()[0]['value'];
    $variables['heading'] = $paragraph-&gt;field_heading-&gt;getValue()[0]['value'];
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you remember from the first article, our tagged content paragraph template passed those values along to Pattern Lab for rendering. That strategy won't work this time around, though, because theme variables assigned to a block entity, for example, are not passed down to the content that is being rendered within the block.&lt;/p&gt;

&lt;p&gt;You might wonder if it's worth dealing with this complexity, given that we could simply render the view as a block, modify the contextual filter, place it and be done with it. What I like about this approach is the flexibility it gives us to render paragraph components in predictable ways. In many sites, we have 5, 10 or more component types. Not all (or even most) of them are likely to be reused in blocks, but it's a nice feature to have if your content strategy requires it. Ultimately, the only reason we're doing this small backflip is because we want to use the article's primary tag as the argument, rather than what was added to the component itself. In other component blocks (an image we want in the sidebar, for example) we could simply allow the default template to render its content.&lt;/p&gt;

&lt;p&gt;In the end, our approach is pretty simple: Our up next block template includes the paragraph template, rather than the standard block &lt;code&gt;{{ content }}&lt;/code&gt; rendering. This approach makes the template variables we assigned in the preprocess function available:&lt;/p&gt;

&lt;pre&gt;
&lt;code&gt;{% include "@afro_theme/paragraphs/paragraph--tagged-content.html.twig" %}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A different approach to consider would be adding a checkbox to the tagged content configuration, such as "Use page context instead of a specified tag". That would avoid having us having an extra hook and template. Other useful configuration fields we've used for dynamic component configuration include whether the query should require all tags, or any tag, when multiple are assigned, or the ability to specify whether the related content should exclude duplicates (useful when you have several dynamic components on a page but you don't want them to include the same content).&lt;/p&gt;

&lt;p&gt;As we wrap up, a final note I'll add is about custom blocks and the config system. The apprach I've been using for content entities that also become config (which is the case here), is to first create the custom block in my local development environment, then export the config and remove the UUID from the config while also copying the plugin uuid. You can then create an update hook that creates the content for the block before it gets imported to config:&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;/**
 * Adds the "up next" block for posts.
 */
function component_helper_update_8001() {
  $blockEntityManager = \Drupal::service('entity.manager')
    -&gt;getStorage('block_content');

  $block = $blockEntityManager-&gt;create(array(
    'type' =&gt; 'component_block',
    'uuid' =&gt; 'b0dd7f75-a7aa-420f-bc86-eb5778dc3a54',
    'label_display' =&gt; 0,
  ));

  $block-&gt;info = "Up next block";

  $paragraph = Drupal\paragraphs\Entity\Paragraph::create([
    'type' =&gt; 'tagged_content',
    'field_heading' =&gt; [
      'value' =&gt; 'Up next'
    ],
    'field_number_of_items' =&gt; [
      'value' =&gt; '3'
    ],
    'field_referenced_tags' =&gt; [
      'target_id' =&gt; 1,
    ]
  ]);

  $paragraph-&gt;save();
  $block-&gt;field_component_reference-&gt;appendItem($paragraph);
  $block-&gt;save();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once we deploy and run the update hook, we're able to import the site config and our custom block should be rendering on the page. Please let me know if you have any questions or feedback in the comments below. Happy Drupaling.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/drupal" hreflang="en"&gt;Drupal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sun, 26 Dec 2021 18:36:24 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">17 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Drupal Pullquotes</title>
  <link>https://www.a-fro.com/blog/drupal/drupal-pullquotes</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Drupal Pullquotes&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sun, 12/26/2021 - 18:33&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2021-12/pullqoutes.png?itok=MCLDYCDI" width="1596" height="684" alt="Several powerful quotes with a pullquote sprinkled off to the side to draw a reader's attention" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2018-10-29T12:00:00Z" class="datetime"&gt;October 29, 2018&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;"Pullquotes", as described here, differ from blockquotes because they &lt;em&gt;duplicate&lt;/em&gt; a section of text within the page, and &lt;span class="pullquote"&gt;pullquotes get styled in a way that draws the reader's attention to the quote&lt;/span&gt;. As such, one simple solution that I've been using is to allow content editors to select a section of text while editing and click a button in the interface to designate it as a pullquote.&lt;/p&gt;

&lt;p&gt;TL;DR: &lt;a href="http://bit.ly/2qgTEjv"&gt;Grab your copy&lt;/a&gt; on GitHub today.&lt;/p&gt;

&lt;h2&gt;A quick overview of what's needed&lt;/h2&gt;

&lt;p&gt;We'll walk through the various pieces required in order to get this working on your site, but it can be summarized in three basic parts:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The module code for the ckeditor plugin&lt;/li&gt;
	&lt;li&gt;Configuring at least one of your text formatters to include the pullquote button &lt;/li&gt;
	&lt;li&gt;Adding the js and css to your theme for the site&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt;Adding the Plugin&lt;/h2&gt;

&lt;p&gt;At this point, I'm not planning to release this as a contrib module for Drupal. If you are interested in doing that, however, then please know you have my full blessing. On projects where pullquotes are required, I tend to simply add them to a small, custom module that includes all of the specific administration tweaks for that project. If you choose to &lt;a href="http://bit.ly/2qgTEjv"&gt;download the GitHub repo&lt;/a&gt;, then you can simply drop the "pullquotes" folder into &lt;code&gt;modules/custom/&lt;/code&gt;, and &lt;code&gt;drush en pullquotes&lt;/code&gt;. If you want to add it to a different custom module, simply update the appropriate paths in &lt;code&gt;src/Plugin/CKEditorPlugin/Pullquote.php&lt;/code&gt;.&lt;/p&gt;

&lt;h2&gt;Configuring a Text Format&lt;/h2&gt;

&lt;p&gt;The next step is to add the ckeditor button to one of your text formats at &lt;code&gt;/admin/config/content/formats&lt;/code&gt;. See the image pictured below.&lt;/p&gt;

&lt;p&gt;If the format includes "Limit allowed HTML tags and correct faulty HTML", then be sure to add &lt;code&gt;&lt;span class&gt;&lt;/code&gt; to the allowed HTML tags, since that is how the plugin modifies the html and prepares it for your theme's javascript. Finally, export your configuration and commit it to your project repo.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--content-width paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_content/public/2021-12/pullquote-btn.png?itok=fBFjjYSi" width="700" height="394" alt="The ckeditor button for pullquotes that needs to be configured in the text format" loading="lazy" class="image-style-full-content" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;h2&gt;Theming the pullquotes&lt;/h2&gt;

&lt;p&gt;The last step is to modify the javascript and styles that your theme uses to display the pullquotes that have been added in the editing interface. As you can see from the &lt;a href="http://bit.ly/2qgTEjv"&gt;GitHub repo&lt;/a&gt;, there are four files that will need to be updated or added to your theme:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;your theme info file&lt;/li&gt;
	&lt;li&gt;your theme library file&lt;/li&gt;
	&lt;li&gt;the javascript file that adds the markup&lt;/li&gt;
	&lt;li&gt;the scss (or css) file&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In our case, the javascript finds any/all pullquote spans on the page, and then adds them as asides to the DOM, alternating between right and left alignment (for desktop). The scss file then styles them appropriately for small and large breakpoints. Note, too, that the theme css includes specific styles that &lt;a href="https://a-fro.com/sites/default/files/styles/full_content/public/2018-10/pullquote-editing.png"&gt;display in the editing interface&lt;/a&gt;, so that content creators can easily see when a pullquote is being added or modified. To remove a pullquote, the editor simply selects it again (which turns the pullquote pink in our theme) and clicks the ckeditor button. &lt;/p&gt;

&lt;p&gt;That wraps up this simple tutorial. &lt;span class="pullquote"&gt;You can now rest assured that your readers will never miss an important quote again.&lt;/span&gt; The strategy is in no way bulletproof, and so its mileage may vary, but if you have questions, feedback, or suggestions on how this strategy can be improved, please add your comment below. &lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/drupal" hreflang="en"&gt;Drupal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sun, 26 Dec 2021 18:33:36 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">16 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Creating Paragraphs Entities for Dynamic Content</title>
  <link>https://www.a-fro.com/blog/drupal/creating-paragraphs-entities-dynamic-content</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Creating Paragraphs Entities for Dynamic Content&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sun, 12/26/2021 - 18:28&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2021-12/dynamic-content-paragraphs.png?itok=e5oTKHjU" width="1596" height="684" alt="Logos  with Paragraphs, Drupal and Atomic Design" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2018-09-26T12:00:00Z" class="datetime"&gt;September 26, 2018&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;h2&gt;Preamble&lt;/h2&gt;

&lt;p&gt;I've been working with (and loving) &lt;a href="https://patternlab.io/"&gt;Pattern Lab&lt;/a&gt; for the past year and a half, and trying to find time to share some of the most valuable lessons I've learned. This tutorial is the first in what I hope will become a series of articles that demonstrate how I'm solving common requests and requirements for our projects. The underlying concept here does not require Pattern Lab, though I find it a particularly flexible and (mostly) intuitive way to create highly predictable, modular and reusable components.&lt;/p&gt;

&lt;h2&gt;Background&lt;/h2&gt;

&lt;p&gt;The paragraphs module has become a central ingredient for many component-based sites in recent years. However, our content strategy also often requires components that display dynamic content (think "Read Next", or "Also of Interest"). In this tutorial, I'll demonstrate how we've been solving this problem, by building paragraph bundles that serve as configuration entities that we can then use as arguments that we pass to a view via the &lt;a href="https://www.drupal.org/project/twig_tweak"&gt;Twig Tweak&lt;/a&gt; module. You can see a working version of the dynamic content component we'll be building in the "Up Next" card grid at the bottom of this tutorial. &lt;/p&gt;

&lt;h2&gt;Creating the View&lt;/h2&gt;

&lt;p&gt;We want our content editors to be able to add dynamic content to a page that includes a heading, the tag that should be used as a filter, and the number of items they want to display. To start with, let's create a view that is configured as a block of teasers with two contextual filters, the tag (or tags), and a filter that excludes a particular node id. The latter will prevent the current node from displaying within the block. I'm not going to offer a detailed explanation of building views in Drupal, since this is likely quite familiar to most readers.&lt;/p&gt;

&lt;h2&gt;Building the Paragraph Bundle&lt;/h2&gt;

&lt;p&gt;&lt;span id="cke_bm_329S" style="display:none"&gt; &lt;/span&gt; Once the view has been configured, it's time to create the paragraph bundle. I'll call it "Tagged content", and add the "configuration" fields we will need in order to render the dynamic content described above.  &lt;/p&gt;

&lt;p&gt;Once the bundle exists and the fields are present, we can ignore the "Manage display" interface, since we're going to circumvent the render pipeline via Twig Tweak. However, if we add a tagged content bundle to a page (in this case, I already have a content type that allows me to add paragraphs bundles to the page), we should see the values that we set being rendered to the screen via the paragraphs module base template.&lt;/p&gt;

&lt;p&gt;The next step, therefore, is creating a paragraph item template that is responsible for rendering the view rather than the actual content of the item, using the "configuration settings" from the paragraph item that we just created.&lt;/p&gt;

&lt;h2&gt;Twig Field Value and Twig Tweak FTW&lt;/h2&gt;

&lt;p&gt;Our "configuration" entity is now ready for rendering the view. To do that, we'll leverage the &lt;a href="https://www.drupal.org/project/twig_field_value"&gt;Twig Field Value&lt;/a&gt; module to get the values from the paragraph bundle and pass them to the view via &lt;a href="https://www.drupal.org/project/twig_tweak"&gt;Twig Tweak&lt;/a&gt;. Here's how that looks in the paragraph item template file (paragraph--tagged-content.html.twig):&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;{% set tids = content.field_referenced_tags['#items'] is not empty
  ? content.field_referenced_tags|field_raw('target_id')|safe_join(',')
  : 'all' %}

{% set limit = content.field_number_of_items|field_raw('value') %}

{% set heading = content.field_heading|field_raw('value') %}

{# Leverage twig_tweak to create the render array #}
{% set view = drupal_view('tagged_content', 'block_1', tids, nid, limit, heading) %}

{{ view }}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After rebuilding the cache and refreshing the page, we'll now see the content teasers being rendered, though our "Number of items" setting isn't yet working. Also, the value of &lt;code&gt;nid&lt;/code&gt; is undefined, which is what we need in order to exclude the current node from the tagged content list. In order to accomplish those two things, as well as prepare for future component hook implementations, we'll create a small custom module called "&lt;a href="https://github.com/a-fro/a-fro.com/tree/master/web/modules/custom/component_helper"&gt;component helper&lt;/a&gt;". The relevant hooks are:&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;/**
 * Implements hook_preprocess_entity().
 */
function component_helper_preprocess_paragraph__tagged_content(&amp;$variables) {
  if ($current_node = \Drupal::request()-&gt;attributes-&gt;get('node')) {
    $variables['nid'] = $current_node-&gt;id();
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;/**
 * Implements hook_views_query_substitutions().
 * Sets the number of items based on the paragraph bundle setting
 * Using this hook instead of alter so that queries can be cached.
 */
function component_helper_views_query_substitutions(ViewExecutable $view) {
  if ($view-&gt;id() == 'tagged_content') {
    $limit = (isset($view-&gt;args[2])) ? $view-&gt;args[2] : 0;
    if ($limit &gt; 0) {
      $view-&gt;query-&gt;setLimit($limit);
    }
  }
}&lt;/code&gt;
&lt;/pre&gt;

&lt;h2&gt;Rendering the View Through Pattern Lab&lt;/h2&gt;

&lt;p&gt;Now we're ready to map our variables in Drupal and send them to be rendered in Pattern Lab. If you're not familiar with it, I suggest you start by learning more about &lt;a href="http://emulsify.info"&gt;Emulsify&lt;/a&gt;, which is Four Kitchens' Pattern Lab-based Drupal 8 theme. Their team is not only super-helpful, they're also very active on the DrupalTwig #pattern-lab channel. In this case, we're going to render the teasers from our view as card molecules that are part of a card grid organism. In order to that, we can simply pass the view &lt;code&gt;rows&lt;/code&gt; to the the organism, with a newly created view template (views-view--tagged-content.html.twig):&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;{# Note that we can simply pass along the arguments we sent via twig_tweak  #} 

{% set heading = view.args.3 %}

{% include '@organisms/card-grid/card-grid.twig' with {
  grid_content: rows,
  grid_blockname: 'card',
  grid_label: heading
} %}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Since the view is set to render teasers, the final step is to create a Drupal theme template for node teasers that will be responsible for mapping the field values to the variables that the card template in Pattern Lab expects.  &lt;/p&gt;

&lt;p&gt;Generally speaking, for Pattern Lab projects I subscribe to the principle that the role of our Drupal theme templates is to be data mappers, whose responsibility it is to take Drupal field values and map them to Pattern Lab Twig variables for rendering. Therefore, we never output HTML in the theme template files. This helps us keep a clean separation of concerns between Drupal's theme and Pattern Lab, and gives us more predictable markup (note &lt;em&gt;more&lt;/em&gt;, since this only applies to templates that we're creating and adding to the theme; otherwise, the Drupal render pipeline is in effect). Here is the teaser template we use to map the values and send them for rendering in Pattern Lab (node--article--teaser.html.twig):&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;{% set img_src = (img) ? img.uri|image_style('teaser') : null %}

{% include "@molecules/card/01-card.twig" with {
  "card_modifiers": 'grid-item',
  "card_img_src": img_src,
  "card_title": label,
  "card_link_url": url,
} %}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you're wondering about the &lt;code&gt;img&lt;/code&gt; object above, that's related to another &lt;a href="https://github.com/a-fro/media_essentials/"&gt;custom module&lt;/a&gt; that I wrote several years ago to make working with images from media more user friendly. It's definitely out of date, so if you're interested in better approaches to responsive images in Drupal and Pattern Lab, have a look at &lt;a href="https://mark.ie/blog/web-development/responsive-images-patternlab-and-drupal-easy-way"&gt;what Mark Conroy has to say&lt;/a&gt; on the topic. Now, if we clear the cache and refresh the page, we should see our teasers rendering as cards (see "Up Next" below for a working version).&lt;/p&gt;

&lt;p&gt;Congrats! At this point, you've reached the end of this tutorial. Before signing off, I'll just mention other useful "configuration" settings we've used, such as "any" vs. "all" filtering when using multiple tags, styled "variations" that we can leverage as BEM modifiers, and checkboxes that allow a content creator to specify which content types should be included. The degree of flexibility required will depend on the content strategy for the project, but the underlying methodology works similarly in each case. Also, stay tuned, as in the coming weeks I'll show you how we've chosen to extend this implementation in a way that is both predictable and reusable (blocks, anyone?).&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/drupal" hreflang="en"&gt;Drupal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sun, 26 Dec 2021 18:28:01 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">15 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Multiple MailChimp Accounts with Drupal</title>
  <link>https://www.a-fro.com/blog/drupal/multiple-mailchimp-accounts-drupal</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Multiple MailChimp Accounts with Drupal&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sun, 12/26/2021 - 18:25&lt;/span&gt;

            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2016-12-20T12:00:00Z" class="datetime"&gt;December 20, 2016&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;A couple of months ago, &lt;a href="https://github.com/thinkshout/"&gt;team ThinkShout&lt;/a&gt; quietly introduced a feature to the &lt;a href="https://www.drupal.org/project/mailchimp"&gt;MailChimp module&lt;/a&gt; that some of us have really wanted for a long time—the ability to support multiple MailChimp accounts from a single Drupal installation. This happened, in part, after I reached out to them on behalf of the stakeholders at Cornell University's ILR School, where I work. Email addresses can be coveted resources within organizations, and along with complex governance requirements, it's not uncommon for a single organization to have internal groups who use separate MailChimp accounts. I'm not going to comment on whether this is a good or wise practice, just to acknowledge that it's a reality.&lt;/p&gt;

&lt;p&gt;In our case, we currently have three groups within school who are using MailChimp extensively to reach out to their constituents. Up until this week, this required a manual export of new subscribers (whom we are tracking with &lt;a href="https://www.drupal.org/project/entityform"&gt;entityforms&lt;/a&gt;), some custom code to transform the csv values into the correct format for MailChimp, and then a manual import to the respective list. However, as our most recent deployment, we are now able to support all three group's needs (including one who is using &lt;a href="http://a-fro.com/introducing-mailchimp-automations"&gt;MailChimp automations&lt;/a&gt;). Let's dig into how we're doing it.&lt;/p&gt;

&lt;p&gt;The important change that ThinkShout introduced came from &lt;a href="https://github.com/thinkshout/mailchimp/commit/d5b8a3da20f4e058ec04115e380259e3c1da50d7#diff-bb0d240e8bb9e959c6e84bae87e337d4R157"&gt;this commit&lt;/a&gt;, which invokes a new alter hook that allows a developer to modify the key being used for the API object. And though this is an essential hook if we want to enable multiple keys, it also doesn't accomplish much given that &lt;code&gt;mailchimp_get_api_object&lt;/code&gt; is called in dozens of places through the suite of MailChimp modules and therefore it's difficult to know the exact context of the api request. For that reason, we really need a more powerful way to understand the context of a given API call.&lt;/p&gt;

&lt;p&gt;To that end, we created a new sandbox module called &lt;a href="https://www.drupal.org/sandbox/a-fro/2835792"&gt;MailChimp Accounts&lt;/a&gt;. This module is responsible for five things:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Allowing developers to register additional MailChimp accounts and account keys&lt;/li&gt;
	&lt;li&gt;Enabling developers to choose the appropriate account for MailChimp configuration tasks&lt;/li&gt;
	&lt;li&gt;Switching to the correct account when returning to configuration for an existing field or automation entity&lt;/li&gt;
	&lt;li&gt;Restarting the form rendering process when a field widget needs to be rendered with a different MailChimp account&lt;/li&gt;
	&lt;li&gt;Altering the key when the configuration of a MailChimp-related field or entity requires it&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If you want to try this for yourself, you'll first need to download the &lt;a href="https://www.drupal.org/project/mailchimp/releases/7.x-4.7"&gt;newest release&lt;/a&gt; of the MailChimp module, if you're not already running it. You'll also need to download the &lt;a href="https://www.drupal.org/sandbox/a-fro/2835792"&gt;MailChimp Accounts&lt;/a&gt; sandbox module. The core functionality of the MailChimp Accounts module relies on its implementation of a hook called &lt;code&gt;hook_mailchimp_accounts_api_key&lt;/code&gt;, which allows a module to register one or more MailChimp accounts.&lt;/p&gt;

&lt;p&gt;In order to register a key, you will need to find the account id. Since MailChimp doesn't offer an easy way to discover an account id, we built a simple callback page that allows you to retrieve the account data for a given key. You'll find this in the admin interface at /admin/config/mailchimp/account-info on your site. When you first arrive at that page, you should see the account values for your "default" MailChimp account. In this case, "default" simply means it's the API key registered through the standard MailChimp module interface, which stores the value in the variables table. However, if you input a different key on that page, you can retrieve information about that account from the MailChimp API.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--content-width paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_content/public/2021-12/mc-account-info.jpg?itok=5xUImTqj" width="700" height="394" alt="MailChimp Account info callback page" loading="lazy" class="image-style-full-content" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;The screenshot above offers an example of some of the data that is returned by the MailChimp API, but you will see additional information including list performance when you query an active account. The only essential piece of information, however, is the account_id, which we will use to register additional accounts that we can then use via &lt;code&gt;hook_mailchimp_accounts_api_key()&lt;/code&gt;. Here's an example of how to implement that hook:&lt;/p&gt;

&lt;pre&gt;
&lt;code data-language="php"&gt;
/**
 * Register API key(s) for MailChimp Accounts
 *
 * @return array
 *   The keys are the account id and the values are the API keys
 */
function mymodule_mailchimp_accounts_api_key() { 
  $keys = array(
    '2dd44aa1db1c924d42c047c96' =&gt; 'xxxxxxxx123434234xxxxxx3243xxxx3-us13',
    '411abe81940121a1e89a02abc' =&gt; '123434234xxxxxx23233243xxxxxxx13-us12',
  ); 
  return $keys; 
} 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once there is more than one API key registered in a Drupal site, you will see a new option to select the current account to use for any MailChimp configuration taking place in the administrative interface. After selecting a different account, you will also see a notice clarifying which API key is currently active in the admin interface. You can see an example in the screenshot below.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="component component--content-width paragraph paragraph--type--media paragraph--view-mode--default"&gt;
            &lt;img src="https://www.a-fro.com/sites/default/files/styles/full_content/public/2021-12/mc-account-select-notice-fixed_0.jpg?itok=9PB4ZJST" width="700" height="394" alt="MailChimp account notice and select menu" loading="lazy" class="image-style-full-content" /&gt;



      &lt;/div&gt;
&lt;/div&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;After choosing an account to use for configuration, administrative tasks such as MailChimp subscription fields will use that key when making API calls. Therefore, the available options for lists, merge fields and interest groups will correspond to the appropriate account. Additionally, when the field widget renders the form element, the API key is altered yet again so that the subscriber will be added to the appropriate list, interest groups, etc. Additionally, I can confirm from my testing that the interface for Mailchimp Automations entities also uses the correct API key, enabling support for that MailChimp submodule.&lt;/p&gt;

&lt;p&gt;This concludes our walkthrough of the new MailChimp Accounts module. Admittedly, it's not the most elegant solution ever created, but it not only satisfies our organization's complex governance requirements, but it also allows our stakeholders to begin thinking about new possibilities for improving their marketing and communications efforts.&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/drupal" hreflang="en"&gt;Drupal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sun, 26 Dec 2021 18:25:25 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">14 at https://www.a-fro.com</guid>
    </item>
<item>
  <title>Introducing MailChimp Automations for Drupal</title>
  <link>https://www.a-fro.com/blog/drupal/introducing-mailchimp-automations-drupal</link>
  <description>&lt;span class="field field--name-title field--type-string field--label-hidden"&gt;Introducing MailChimp Automations for Drupal&lt;/span&gt;
&lt;span class="field field--name-uid field--type-entity-reference field--label-hidden"&gt;&lt;span&gt;admin&lt;/span&gt;&lt;/span&gt;
&lt;span class="field field--name-created field--type-created field--label-hidden"&gt;Sun, 12/26/2021 - 18:24&lt;/span&gt;

            &lt;div class="field field--name-field-representative-image field--type-entity-reference field--label-hidden field__item"&gt;  &lt;img src="https://www.a-fro.com/sites/default/files/styles/large_21_9/public/2021-12/mastering-mailchimp-large.jpeg?itok=sNJg9FwL" width="1596" height="684" alt="Mailchimp banner with logo" loading="lazy" class="image-style-large-21-9" /&gt;


&lt;/div&gt;
      
            &lt;div class="field field--name-field-published-date field--type-datetime field--label-hidden field__item"&gt;&lt;time datetime="2016-11-30T12:00:00Z" class="datetime"&gt;November 30, 2016&lt;/time&gt;
&lt;/div&gt;
      
      &lt;div class="field field--name-field-components field--type-entity-reference-revisions field--label-hidden field__items"&gt;
              &lt;div class="field__item"&gt;  &lt;div class="paragraph paragraph--type--rich-text paragraph--view-mode--default"&gt;
          
            &lt;div class="clearfix text-formatted field field--name-field-body field--type-text-long field--label-hidden field__item"&gt;&lt;p&gt;Recent additions to Drupal 7’s &lt;a href="https://www.drupal.org/project/mailchimp"&gt;MailChimp module&lt;/a&gt; and &lt;a href="https://github.com/thinkshout/mailchimp-api-php/"&gt;API library&lt;/a&gt; offer some powerful new ways for you to integrate Drupal and MailChimp. As of version 7.x-4.7, the Drupal MailChimp module now supports automations, which are incredibly powerful and flexible ways to trigger interactions with your users. Want to reach out to a customer with product recommendations based on their purchase history? Have you ever wished you could automatically send your newsletter to your subscribers when you publish it in Drupal? Or wouldn’t it be nice to be able to send a series of emails to participants leading up to an event without having to think about it? You can easily do all of those things and much more with MailChimp automations.&lt;/p&gt;

&lt;p&gt;Recent additions to Drupal 7’s &lt;a href="https://www.drupal.org/project/mailchimp"&gt;MailChimp module&lt;/a&gt; and &lt;a href="https://github.com/thinkshout/mailchimp-api-php/"&gt;API library&lt;/a&gt; offer some powerful new ways for you to integrate Drupal and MailChimp. As of version 7.x-4.7, the Drupal MailChimp module now supports automations, which are incredibly powerful and flexible ways to trigger interactions with your users. Want to reach out to a customer with product recommendations based on their purchase history? Have you ever wished you could automatically send your newsletter to your subscribers when you publish it in Drupal? Or wouldn’t it be nice to be able to send a series of emails to participants leading up to an event without having to think about it? You can easily do all of those things and much more with MailChimp automations.&lt;/p&gt;

&lt;p&gt;First of all, big thanks to the team at &lt;a href="https://thinkshout.com/"&gt;ThinkShout&lt;/a&gt; for all their great feedback and support over the past few months of development. To get started, download the newest release of the &lt;a href="https://www.drupal.org/project/mailchimp"&gt;MailChimp module&lt;/a&gt; and then enable the MailChimp Automations submodule (&lt;code&gt;drush en mailchimp_automations -y&lt;/code&gt;). Or, if you’re already using the MailChimp module, update to the latest version, as well as the most recent version of the &lt;a href="https://github.com/thinkshout/mailchimp-api-php/releases/latest"&gt;PHP API library&lt;/a&gt;. Also note that although MailChimp offers many powerful features on their free tier, automations are a paid feature with plans starting at $10/month.&lt;/p&gt;

&lt;p&gt;Once you follow the readme instructions for the MailChimp module (and have configured your API key), you’re ready to enable your first automation. But before we do that, I’d like to take a step back and talk a bit more conceptually about automations and how we’re going to tie them to Drupal. The MailChimp documentation uses the terms “automations” and “workflows” somewhat interchangeably, which can be a bit confusing at first. Furthermore, any given workflow can have multiple emails associated with it, and you can combine different triggers for different emails in a single workflow. Triggers can be based on a range of criteria, such as activity (clicking on an email), inactivity (failing to open an email), time (a week before a given date), or, as in our case, an &lt;em&gt;integration&lt;/em&gt;, which is MailChimp’s term for it since the API call is the trigger.&lt;/p&gt;

&lt;p&gt;The api resource we’re using is the &lt;a href="http://developer.mailchimp.com/documentation/mailchimp/reference/automations/emails/queue/"&gt;automation email queue&lt;/a&gt;, which requires a workflow id, a workflow email id, and an email address. In Drupal, we can now accomplish this by creating a MailChimp Automation entity, which is simply a new Drupal entity that ties any other Drupal entity—provided it has an email field—with a specific workflow email in MailChimp. Once you have that simple concept down, the sky’s the limit in terms of how you integrate the entities on your site with MailChimp emails. This means, for example, that you could tie an entityform submission with a workflow email in MailChimp, which could, in turn, trigger another time-based email a week later (drip campaign, anyone?).&lt;/p&gt;

&lt;p&gt;This setup becomes even more intriguing when you contrast it to an expensive marketing solution like Pardot. Just because you may be working within tight budget constraints doesn’t mean you can’t have access to powerful, custom engagement tools. Imagine you’re using another one of ThinkShout’s projects, RedHen CRM, to track user engagement on your site. You’ve assigned scoring point values to various actions a user might take on your site, reading an article, sharing it on social media, or submitting a comment. In this scenario, you could track a given user’s score over time, and then trigger an automation when a user crosses a particular scoring threshold, allowing you to even further engage your most active users on the site.&lt;/p&gt;

&lt;p&gt;I’m only beginning to scratch the surface on the possibilities of the new MailChimp Automations module. If you're interested in learning more, feel free to take a look at our recent &lt;a href="http://slides.com/a-fro/automating-marketing-and-communication-with-mailchimp/"&gt;Drupal Camp presentation&lt;/a&gt;, or find additional inspiration in both the &lt;a href="https://mailchimp.com/features/automation/"&gt;feature documentation&lt;/a&gt; and &lt;a href="https://mailchimp.com/resources/guides/working-with-automation/html/"&gt;automation resource guide&lt;/a&gt;. Stay tuned, as well, for an upcoming post about another powerful new feature recently introduced into the MailChimp module: support for multiple MailChimp accounts from a single Drupal site!&lt;/p&gt;
&lt;/div&gt;
      
      &lt;/div&gt;
&lt;/div&gt;
          &lt;/div&gt;
  
  &lt;div class="field field--name-field-tags field--type-entity-reference field--label-above"&gt;
    &lt;div class="field__label"&gt;Tags&lt;/div&gt;
          &lt;div class="field__items"&gt;
              &lt;div class="field__item"&gt;&lt;a href="https://www.a-fro.com/blog/drupal" hreflang="en"&gt;Drupal&lt;/a&gt;&lt;/div&gt;
              &lt;/div&gt;
      &lt;/div&gt;
</description>
  <pubDate>Sun, 26 Dec 2021 18:24:17 +0000</pubDate>
    <dc:creator>admin</dc:creator>
    <guid isPermaLink="false">13 at https://www.a-fro.com</guid>
    </item>

  </channel>
</rss>
